# Core runtime
MDE_EMBEDDING_DIM=384
MDE_SQLITE_PATH=memory.db
MDE_DATABASE_URL=postgresql+psycopg://orbit:orbit@postgres:5432/orbit

# Provider selection
MDE_EMBEDDING_PROVIDER=deterministic
MDE_SEMANTIC_PROVIDER=context

# OpenAI provider settings
OPENAI_API_KEY=
MDE_OPENAI_EMBEDDING_MODEL=text-embedding-3-small
MDE_OPENAI_SEMANTIC_MODEL=gpt-4o-mini

# Anthropic provider settings
ANTHROPIC_API_KEY=
MDE_ANTHROPIC_MODEL=claude-3-5-sonnet-latest
MDE_ANTHROPIC_EMBED_MODEL=claude-3-5-haiku-latest

# Gemini provider settings
GEMINI_API_KEY=
MDE_GEMINI_EMBEDDING_MODEL=text-embedding-004
MDE_GEMINI_SEMANTIC_MODEL=gemini-2.5-flash

# Ollama provider settings
MDE_OLLAMA_HOST=http://localhost:11434
MDE_OLLAMA_EMBEDDING_MODEL=nomic-embed-text
MDE_OLLAMA_SEMANTIC_MODEL=llama3.1

# Cold-start priors (used before sufficient feedback)
MDE_PERSISTENT_CONFIDENCE_PRIOR=0.6
MDE_EPHEMERAL_CONFIDENCE_PRIOR=0.3

# Learning rates
MDE_IMPORTANCE_LEARNING_RATE=0.001
MDE_RANKER_LEARNING_RATE=0.001
MDE_DECAY_LEARNING_RATE=0.01

# Ranker training controls
MDE_RANKER_MIN_TRAINING_SAMPLES=100
MDE_RANKER_TRAINING_BATCH_SIZE=64

# Compression and metrics
MDE_COMPRESSION_MIN_COUNT=5
MDE_COMPRESSION_WINDOW_DAYS=7
MDE_COMPRESSION_MAX_ITEMS_IN_SUMMARY=20
MDE_METRICS_PATH=metrics.json
MDE_METRICS_FLUSH_INTERVAL=50

# Adaptive personalization
MDE_ENABLE_ADAPTIVE_PERSONALIZATION=true
MDE_PERSONALIZATION_REPEAT_THRESHOLD=3
MDE_PERSONALIZATION_SIMILARITY_THRESHOLD=0.82
MDE_PERSONALIZATION_WINDOW_DAYS=30
MDE_PERSONALIZATION_MIN_FEEDBACK_EVENTS=4
MDE_PERSONALIZATION_PREFERENCE_MARGIN=2.0
MDE_PERSONALIZATION_INFERRED_TTL_DAYS=45
MDE_PERSONALIZATION_INFERRED_REFRESH_DAYS=14
MDE_PERSONALIZATION_LIFECYCLE_CHECK_INTERVAL_SECONDS=30

# Logging
LOG_LEVEL=INFO

# Orbit SDK defaults
ORBIT_API_KEY=  # JWT token value for SDK auth
ORBIT_BASE_URL=https://api.orbit.dev
ORBIT_TIMEOUT=30
ORBIT_MAX_RETRIES=3
ORBIT_RETRY_BACKOFF_FACTOR=2.0
ORBIT_LOG_LEVEL=info
ORBIT_ENABLE_TELEMETRY=true

# Example app runtime (live_chatbot_ollama, live_meal_coach_ollama)
ORBIT_JWT_TOKEN=
ORBIT_API_BASE_URL=http://localhost:8000
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=llama3.1
MEAL_COACH_BASELINE_ITEMS=12
MEAL_COACH_ORBIT_LIMIT=5

# Orbit API server defaults
ORBIT_API_HOST=0.0.0.0
ORBIT_API_PORT=8000
ORBIT_API_VERSION=1.0.0
ORBIT_AUTO_MIGRATE=true
ORBIT_ENV=development
ORBIT_DEFAULT_ENTITY_ID=global
ORBIT_DEFAULT_EVENT_TYPE=generic_event
ORBIT_RATE_LIMIT_EVENTS_PER_DAY=100
ORBIT_RATE_LIMIT_QUERIES_PER_DAY=500
ORBIT_RATE_LIMIT_PER_MINUTE=1000/minute
ORBIT_MAX_INGEST_CONTENT_CHARS=20000
ORBIT_MAX_QUERY_CHARS=2000
ORBIT_MAX_BATCH_ITEMS=100
ORBIT_CORS_ALLOW_ORIGINS=http://localhost:3000

# JWT auth settings (strict verification)
ORBIT_JWT_SECRET=orbit-dev-secret-change-me
ORBIT_JWT_ALGORITHM=HS256
ORBIT_JWT_ISSUER=orbit
ORBIT_JWT_AUDIENCE=orbit-api
ORBIT_JWT_REQUIRED_SCOPE=

# OpenTelemetry
ORBIT_OTEL_SERVICE_NAME=orbit-api
ORBIT_OTEL_EXPORTER_ENDPOINT=

# Alertmanager (Slack/Email notification routing)
ALERTMANAGER_DEFAULT_WEBHOOK_URL=http://127.0.0.1:65535/noop
ALERTMANAGER_SLACK_WEBHOOK_URL=http://127.0.0.1:65535/slack
ALERTMANAGER_SLACK_CHANNEL=#orbit-alerts
ALERTMANAGER_EMAIL_TO=alerts@example.com
ALERTMANAGER_EMAIL_FROM=orbit-alerts@example.com
ALERTMANAGER_EMAIL_SMARTHOST=localhost:1025
ALERTMANAGER_EMAIL_USERNAME=
ALERTMANAGER_EMAIL_PASSWORD=
